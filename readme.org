# file:https://melpa.org/packages/diff-hl-posframe-badge.svg]]

This emacs package shows a posframe with the current hunk diff in a buffer under version control. It is based on [[https://github.com/dgutov/diff-hl][diff-hl]].


[[file:diff-hl-posframe.gif]]

* Installation


Add this repository to your =load-path=, require it, and enable it for each buffer with =alt-x= =diff-hl-posframe-mode=. A global mode =global-diff-hl-posframe-mode= is also available.

You can add a hook to enable it when oppening a buffer, as in the code below.

#+begin_src emacs-lisp
(require 'diff-hl-posframe)

(add-hook 'prog-mode-hook 'diff-hl-posframe)
#+end_src

** Installation from MELPA
This package is (not yet) available on Melpa.

It will be installable with =use-package=
#+begin_src emacs-lisp
(use-package diff-hl-posframe
  :ensure t
  :config
  (global-diff-hl-posframe-mode)
)
#+end_src

* Customization
- =diff-hl-posframe-narrow=: Defaults to =t=. If =t=, the contents of the posframe are narrowed to the current hunk.
- =diff-hl-posframe-clicked-line-face=: The face used to highlight the corresponding line of the clicked line.
- =diff-hl-posframe-face=: The face used in the posframe.
- The apearance of the posframe can be configured with the following options, that matches the parameters of [[https://github.com/tumashu/posframe/blob/7b92a54e588889a74d36d51167e067676db7be8a/posframe.el#L372][=posframe-show= function]]
  - =diff-hl-posframe-internal-border-width=
  - =diff-hl-posframe-internal-border-color=
  - =diff-hl-posframe-poshandler=
  - =diff-hl-posframe-parameters=



* Similar solutions
See [[https://github.com/dgutov/diff-hl/pull/112][this pull request]] from [[https://github.com/deadtrickster][deadtrickster]]
